<!DOCTYPE html>
{% load i18n %}
{% get_current_language as CURRENT_LANGUAGE %}
<html lang="{{ CURRENT_LANGUAGE }}">
<head>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XGZ7RZEXD0"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XGZ7RZEXD0');
</script>
{% block gtag_e %}
{%  endblock %}
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>{% block title %}PortBro VPN Manager{% endblock %}</title>
{% load static  %}
<link rel="shortcut icon" type="image/png" href="{% static 'icon.ico' %}"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Glory:ital,wght@0,100..800;1,100..800&display=swap" rel="stylesheet">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Bevan:ital@0;1&display=swap" rel="stylesheet">
<!-- Google Font: Source Sans Pro -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,400i,700&display=fallback">
<!-- Font Awesome -->
<link rel="stylesheet" href="/static/AdminLTE-3.2.0/plugins/fontawesome-free/css/all.min.css">
<!-- icheck bootstrap -->
<link rel="stylesheet" href="/static/AdminLTE-3.2.0/plugins/icheck-bootstrap/icheck-bootstrap.min.css">
<!-- Theme style -->
<link rel="stylesheet" href="/static/AdminLTE-3.2.0/dist/css/adminlte.min.css">
<link rel="stylesheet" href="{% static 'portbro.css' %}"/>

<style>
  /* PortBro Color Variables */
  :root {
    --p-base: #F5E5C0;
    --p-light: #2f1a17;
    --p-accent: #F6A622;
    --p-text: #231b17;
    --p-text-light: #F5E5C0;
    --scale: 1;
    --grain-opacity: 0.3;
  }

  /* Body Styling */
  body {
    background: 
      /* Diagonal stripes */
      repeating-linear-gradient(
        45deg,
        transparent 0px,
        transparent 20px,
        rgba(246, 166, 34, 0.1) 20px,
        rgba(246, 166, 34, 0.1) 40px
      ),
      repeating-linear-gradient(
        -45deg,
        transparent 0px,
        transparent 20px,
        rgba(246, 166, 34, 0.05) 20px,
        rgba(246, 166, 34, 0.05) 40px
      ),
      /* Base gradient */
      linear-gradient(135deg, var(--p-light) 0%, #3d2a27 50%, var(--p-light) 100%);
    background-size: 40px 40px, 40px 40px, 100% 100%;
    min-height: 100vh;
    font-family: 'Source Sans Pro', sans-serif;
    color: var(--p-text);
    position: relative;
  }

  body::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: 
      /* Subtle texture overlay */
      radial-gradient(circle at 20% 80%, rgba(246, 166, 34, 0.1) 0%, transparent 50%),
      radial-gradient(circle at 80% 20%, rgba(246, 166, 34, 0.08) 0%, transparent 50%),
      radial-gradient(circle at 40% 40%, rgba(246, 166, 34, 0.05) 0%, transparent 50%);
    pointer-events: none;
  }

  /* Login Page Container */
  .login-page {
    background: linear-gradient(135deg, var(--p-light) 0%, #3d2a27 50%, var(--p-light) 100%);
    min-height: 100vh;
  }

  /* Login Box Styling */
  .login-box {
    background: rgba(255, 255, 255, 0.95);
    border-radius: 1rem;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
    border: 2px solid var(--p-accent);
    backdrop-filter: blur(10px);
  }

  .login-logo {
    font-family: 'Bevan', serif;
    color: var(--p-accent) !important;
    font-size: 2.5rem;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
  }

  .login-logo a {
    color: var(--p-accent) !important;
    text-decoration: none;
  }

  .login-logo a:hover {
    color: #e6951f !important;
  }

  /* Card Styling */
  .card {
    background: rgba(255, 255, 255, 0.95);
    border: 1px solid rgba(246, 166, 34, 0.2);
    border-radius: 0.75rem;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
  }

  .card-header {
    background: linear-gradient(135deg, var(--p-light) 0%, #3d2a27 100%);
    color: var(--p-text-light);
    border-bottom: 2px solid var(--p-accent);
    border-radius: 0.75rem 0.75rem 0 0 !important;
  }

  .card-title {
    color: var(--p-accent) !important;
    font-family: 'Bevan', serif;
    font-size: 1.5rem;
  }

  /* Form Styling */
  .form-control {
    border: 2px solid rgba(246, 166, 34, 0.3);
    border-radius: 0.5rem;
    padding: 0.75rem 1rem;
    font-size: 1rem;
    transition: all 0.3s ease;
  }

  .form-control:focus {
    border-color: var(--p-accent);
    box-shadow: 0 0 0 0.2rem rgba(246, 166, 34, 0.25);
    outline: none;
  }

  .form-label {
    color: var(--p-text);
    font-weight: 600;
    margin-bottom: 0.5rem;
  }

  .input-group-text {
    background-color: var(--p-light);
    border: 2px solid rgba(246, 166, 34, 0.3);
    color: var(--p-text-light);
    border-radius: 0.5rem 0 0 0.5rem;
  }

  .input-group .form-control {
    border-left: none;
    border-radius: 0 0.5rem 0.5rem 0;
  }

  .input-group:focus-within .input-group-text {
    border-color: var(--p-accent);
  }

  /* Button Styling */
  .btn-primary {
    background: linear-gradient(135deg, var(--p-accent) 0%, #e6951f 100%);
    border: none;
    color: var(--p-light);
    font-weight: 600;
    padding: 0.75rem 2rem;
    border-radius: 0.5rem;
    transition: all 0.3s ease;
    box-shadow: 0 4px 15px rgba(246, 166, 34, 0.3);
  }

  .btn-primary:hover {
    background: linear-gradient(135deg, #e6951f 0%, #d4851c 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(246, 166, 34, 0.4);
  }

  .btn-primary:active {
    transform: translateY(0);
  }

  .btn-secondary {
    background-color: var(--p-light);
    border-color: var(--p-light);
    color: var(--p-text-light);
    font-weight: 600;
    padding: 0.75rem 2rem;
    border-radius: 0.5rem;
    transition: all 0.3s ease;
  }

  .btn-secondary:hover {
    background-color: #3d2a27;
    border-color: #3d2a27;
    transform: translateY(-2px);
  }

  .btn-link {
    color: var(--p-accent) !important;
    text-decoration: none;
    font-weight: 600;
  }

  .btn-link:hover {
    color: #e6951f !important;
    text-decoration: underline;
  }

  /* Alert Styling */
  .alert {
    border-radius: 0.5rem;
    border: none;
    font-weight: 500;
  }

  .alert-warning {
    background-color: rgba(246, 166, 34, 0.1);
    color: var(--p-text);
    border-left: 4px solid var(--p-accent);
  }

  .alert-success {
    background-color: rgba(40, 167, 69, 0.1);
    color: var(--p-text);
    border-left: 4px solid #28a745;
  }

  .alert-danger {
    background-color: rgba(220, 53, 69, 0.1);
    color: var(--p-text);
    border-left: 4px solid #dc3545;
  }

  .alert-info {
    background-color: rgba(23, 162, 184, 0.1);
    color: var(--p-text);
    border-left: 4px solid #17a2b8;
  }

  /* Checkbox Styling */
  .icheck-primary input[type="checkbox"]:checked + label::before {
    background-color: var(--p-accent);
    border-color: var(--p-accent);
  }

  .icheck-primary input[type="checkbox"]:checked + label::after {
    color: var(--p-light);
  }

  /* Footer Styling */
  .login-footer {
    background: linear-gradient(135deg, var(--p-light) 0%, #3d2a27 100%);
    color: var(--p-text-light);
    border-top: 2px solid var(--p-accent);
    margin-top: 2rem;
  }

  .login-footer a {
    color: var(--p-accent) !important;
  }

  .login-footer a:hover {
    color: #e6951f !important;
  }

  /* Mobile Responsive */
  @media (max-width: 768px) {
    .login-logo {
      font-size: 2rem;
    }
    
    .login-box {
      margin: 1rem;
      border-radius: 0.75rem;
    }
    
    .card {
      border-radius: 0.5rem;
    }
    
    .btn {
      width: 100%;
      margin: 0.25rem 0;
    }
  }

  @media (max-width: 576px) {
    .login-logo {
      font-size: 1.75rem;
    }
    
    .card-body {
      padding: 1.5rem 1rem;
    }
  }

  /* Loading Animation */
  .loading {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid rgba(246, 166, 34, 0.3);
    border-radius: 50%;
    border-top-color: var(--p-accent);
    animation: spin 1s ease-in-out infinite;
  }

  @keyframes spin {
    to { transform: rotate(360deg); }
  }

  /* Custom Animations */
  .fade-in {
    animation: fadeIn 0.5s ease-in;
  }

  @keyframes fadeIn {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .slide-in {
    animation: slideIn 0.5s ease-out;
  }

  @keyframes slideIn {
    from { transform: translateX(-100%); }
    to { transform: translateX(0); }
  }
</style>
</head>

<body class="hold-transition login-page">
<div class="login-box fade-in">
    <div class="login-logo">
        <a href="/"></a>
    </div>
    <!-- /.login-logo -->
    <div class="card slide-in">
        <div class="card-body login-card-body">
            {% block content %}
            {% endblock %}
        </div>
        <!-- /.login-card-body -->
    </div>
</div>
<!-- /.login-box -->

<!-- Footer -->
<footer class="login-footer text-center py-4 mt-5">
    <div class="container">
        <div class="row justify-content-center align-items-center">
            <div class="col-12">
                <p class="mb-0">
                    <span>Â© {% now "Y" %} PortBro VPN Manager</span>
                </p>
            </div>
        </div>
    </div>
</footer>

<!-- jQuery -->
<script src="/static/AdminLTE-3.2.0/plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="/static/AdminLTE-3.2.0/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>
<!-- AdminLTE App -->
<script src="/static/AdminLTE-3.2.0/dist/js/adminlte.min.js"></script>
<!-- Bootstrap JS Bundle -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>

{% include "template_messages.html" %}

<script>
    // Add loading animation to forms
    $(document).ready(function() {
        $('form').on('submit', function() {
            var submitBtn = $(this).find('button[type="submit"]');
            var originalText = submitBtn.html();
            submitBtn.html('<span class="loading"></span> Login...');
            submitBtn.prop('disabled', true);
            
            // Re-enable after 5 seconds as fallback
            setTimeout(function() {
                submitBtn.html(originalText);
                submitBtn.prop('disabled', false);
            }, 5000);
        });
    });
</script>

{% block custom_page_scripts %}
{% endblock %}

</body>
</html>
