{% load static %}
{% load socialaccount %}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Sign In</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        .login-container {
            max-width: 400px;
            margin: 80px auto;
            padding: 30px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #fff;
            box-shadow: 0px 2px 10px rgba(0,0,0,0.1);
        }
        .social-btn img {
            width: 20px;
            margin-right: 8px;
        }
    </style>
</head>
<body class="bg-light">

<div class="login-container">
    <h3 class="text-center mb-4">Sign In</h3>

    <!-- Username/password login -->
    <form method="post" action="{% url 'login' %}">
        {% csrf_token %}
        <div class="mb-3">
            <label for="id_login" class="form-label">Username or Email</label>
            <input type="text" name="login" class="form-control" id="id_login" required>
        </div>
        <div class="mb-3">
            <label for="id_password" class="form-label">Password</label>
            <input type="password" name="password" class="form-control" id="id_password" required>
        </div>
        <button type="submit" class="btn btn-primary w-100">Sign In</button>
    </form>

    <hr class="my-4">

    <!-- Social login -->
    {% if socialaccount_providers %}
        <div class="text-center">
            <p>Or sign in with:</p>
            {% for provider in socialaccount_providers %}
                <a href="{% provider_login_url provider.id %}" class="btn btn-danger w-100 mb-2 social-btn d-flex align-items-center justify-content-center">
                    {% if provider.id == 'google' %}
                        <img src="{% static 'icons/google.svg' %}" alt="Google">
                        Sign in with Google
                    {% endif %}
                </a>
            {% endfor %}
        </div>
    {% endif %}

    <p class="mt-3 text-center">
        <a href="{% url 'account_reset_password' %}">Forgot password?</a> |
        <a href="{% url 'account_signup' %}">Sign up</a>
    </p>
</div>

</body>
</html>
