
{% load i18n %}

{% block content %}
<style>
  /* Embedded styles */
  .container { max-width: 700px; margin: 40px auto; font-family: Arial, sans-serif; }
  .card { border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
  .card-header { background-color: #0d6efd; color: white; padding: 15px; border-top-left-radius: 8px; border-top-right-radius: 8px; }
  .card-body { padding: 20px; }
  .list-group { list-style: none; padding: 0; margin: 0; }
  .list-group-item { padding: 12px 15px; border: 1px solid #eee; display: flex; justify-content: space-between; align-items: center; }
  .list-group-item + .list-group-item { border-top: none; }
  .badge { background: #6c757d; color: #fff; padding: 3px 8px; border-radius: 5px; font-size: 12px; margin-left: 8px; }
  .btn { display: inline-block; padding: 10px 16px; border: none; border-radius: 6px; cursor: pointer; font-size: 14px; font-weight: 600; text-align: center; text-decoration: none; }
  .btn-danger { background-color: #dc3545; color: #fff; width: 100%; margin-top: 12px; }
  .btn-danger:hover { background-color: #bb2d3b; }
  .btn-provider { display: inline-block; margin: 6px 4px; background: #0d6efd; color: white; padding: 8px 14px; border-radius: 6px; text-decoration: none; font-size: 14px; }
  .btn-provider:hover { background: #0b5ed7; }
  .alert { background: #e9f5ff; border: 1px solid #b6e0fe; color: #084298; padding: 12px; border-radius: 6px; }
  h4, h5 { margin-bottom: 12px; }
</style>

<div class="container">
  <div class="card">
    <div class="card-header">
      <h4 class="mb-0">{% trans "Account Connections" %}</h4>
    </div>
    <div class="card-body">

      <p style="color: #6c757d;">
        {% blocktrans %}Listed is your currently connected Google account. You can unlink and add another using this menu:{% endblocktrans %}
      </p>

      {% if form.accounts %}
        <form method="post" action="{% url 'socialaccount_connections' %}">
          {% csrf_token %}
          <ul class="list-group">
            {% for base_account in form.accounts %}
              {% with base_account.get_provider_account as account %}
              <li class="list-group-item">
                <div>
                  <strong>{{ account }}</strong>
                  <span class="badge">{{ base_account.provider }}</span>
                </div>
                <div>
                  <input type="radio" id="id_account_{{ base_account.id }}" name="account" value="{{ base_account.id }}">
                  <label for="id_account_{{ base_account.id }}" style="margin-left: 6px; cursor: pointer;">
                    {% trans "Remove" %}
                  </label>
                </div>
              </li>
              {% endwith %}
            {% endfor %}
          </ul>
          <button type="submit" class="btn btn-danger">
            {% trans "Remove Selected" %}
          </button>
        </form>
      {% else %}
        <div class="alert">
          {% trans "You currently have no social accounts connected." %}
        </div>
      {% endif %}

      <hr style="margin: 24px 0;">

      <h5>{% trans "Replace this Google Account with another" %}</h5>
      <div>
        {% include "socialaccount/snippets/provider_list.html" with process="connect" %}
      </div>

    </div>
  </div>
</div>
{% endblock content %}
